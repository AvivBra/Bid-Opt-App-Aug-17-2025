# עקרונות האפליקציה - Bid Optimizer

## 1. מטרת האפליקציה
אפליקציית Bid Optimizer מבצעת אופטימיזציה אוטומטית של בידים (הצעות מחיר) עבור קמפיינים בממשק Amazon Ads.

## 2. ארכיטקטורת שכבות

### UI Layer
- **תפקיד**: ממשק משתמש
- **אחריות**: תצוגה, קבלת קלט, הצגת תוצאות
- **טכנולוגיה**: Streamlit

### Business Layer
- **תפקיד**: לוגיקה עסקית
- **אחריות**: תיאום בין אופטימיזציות
- **מכיל**: orchestrator, file generator

### Optimizations Layer
- **תפקיד**: מודולי אופטימיזציה
- **אחריות**: כל אופטימיזציה מנהלת את עצמה
- **מכיל**: validator, cleaner, processor לכל אופטימיזציה

### Data Layer
- **תפקיד**: גישה לנתונים
- **אחריות**: קריאה וכתיבה של קבצים
- **מכיל**: readers, writers, models

## 3. עקרון המודולריות

### אופטימיזציות עצמאיות
- כל אופטימיזציה היא מודול נפרד
- כל אופטימיזציה מגדירה אילו קבצים היא דורשת
- כל אופטימיזציה מבצעת ולידציה וניקוי עצמאיים
- אין תלות בין אופטימיזציות

### יתרונות
- קל להוסיף אופטימיזציות חדשות
- קל לשנות אופטימיזציה קיימת
- ניתן להריץ אופטימיזציות במקביל
- כל אופטימיזציה אחראית על עצמה

## 4. זרימת עבודה

### שלבי העבודה
1. **העלאת קבצים** - המשתמש מעלה עד 5 קבצים
2. **בחירת אופטימיזציות** - סימון אילו אופטימיזציות להריץ
3. **ולידציה** - כל אופטימיזציה בודקת את הקבצים שלה
4. **עיבוד** - הרצת האופטימיזציות שעברו ולידציה
5. **הורדה** - קבצי פלט זמינים להורדה

### עקרונות זרימה
- עמוד יחיד - כל התהליך במסך אחד
- ללא זיכרון - כל הרצה מתחילה מחדש
- משוב מיידי - הודעות ברורות בכל שלב

## 5. ניהול קבצי קלט

### 5 סוגי קבצים
1. **Template** - הגדרות פורטפוליו
2. **Bulk 30** - נתוני ביצועים 30 ימים
3. **Bulk 60** - נתוני ביצועים 60 ימים
4. **Bulk 7** - נתוני ביצועים 7 ימים
5. **Data Rova** - נתוני רווחיות

### גמישות בהעלאה
- אין חובה להעלות את כל הקבצים
- כל אופטימיזציה מגדירה מה היא צריכה
- רק אופטימיזציות עם קבצים מתאימים יורצו

## 6. State Management

### מה נשמר בסשן
- קבצים שהועלו (BytesIO objects)
- DataFrames של הקבצים
- אופטימיזציות שנבחרו
- תוצאות ולידציה לכל אופטימיזציה
- קבצי פלט

### מה לא נשמר
- היסטוריה של הרצות קודמות
- נתוני ביניים של עיבוד
- קבצים מהרצות קודמות

## 7. גישת פיתוח

### Phase 1 - תשתית
- UI מלא עם כל הפונקציונליות
- Mock Data לבדיקות
- 5 כפתורי העלאה

### Phase 2 - Zero Sales
- אופטימיזציה ראשונה מלאה
- כולל validator, cleaner, processor
- בדיקה מקצה לקצה

### Phase 3 - הרחבה
- הוספת אופטימיזציות נוספות
- כל אחת בתיקייה נפרדת
- שימוש חוזר בתשתית

## 8. עקרונות טכניים

### ביצועים
- עד 500,000 שורות לקובץ
- עד 40MB לקובץ
- זמן עיבוד עד 60 שניות

### תחזוקה
- קוד מודולרי ומתועד
- בדיקות יחידה לכל מודול
- הפרדה ברורה בין שכבות

### שגיאות
- הודעות שגיאה ברורות
- התאוששות מכשלים
- לוג מפורט לדיבוג